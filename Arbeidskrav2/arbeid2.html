<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" media="all">
    
    <title>ll</title>
</head>
<body>
        <header>
            <h1>RESSURSARKIV</h1>
        </header>
        
        <script>
                function generateHTML() {
        const bodyElement = document.body;
        const borderdiv=document.createElement('div');
        borderdiv.id="borderdiv";
        let box=null

        resources.forEach(resource => {
            const categoryElement = document.createElement('div');
            categoryElement.className="category";

            const button= document.createElement("button");
            button.innerHTML=`<h2>${resource.category}</h2>`;
        

            const para=document.createElement("p");
            para.innerHTML=resource.text;
            para.style.display="none"

            const sources = document.createElement('ul');
            resource.sources.forEach(source => {
                const sourceItem = document.createElement('li');
                sources.style.display="none";
                sourceItem.innerHTML = `<a href="${source.url}" target="_blank">${source.title}</a>`;
                sources.appendChild(sourceItem);
            });

            

            button.addEventListener('click', function(){
                if (box){
                    box.para.style.display="none";
                    box.sources.style.display= "none";
                }
                if (para.style.display === "none") {
                para.style.display = "flex";
                sources.style.display="block";
                box= {para,sources};
            } else {
                
                para.style.display = "none";
                sources.style.display= "none";
                box=null;
            }

            });

            if(resources.indexOf(resource)==0){
                para.style.display = "flex";
                sources.style.display="block";
                box= {para,sources};
                button.click();
            }

            
            

            categoryElement.appendChild(button);
            categoryElement.appendChild(para)
            categoryElement.appendChild(sources);
            borderdiv.appendChild(categoryElement)
            bodyElement.appendChild(borderdiv);
            
            
        });
        
        


    }

    window.onload = function() {
    generateHTML();}
        
        </script>
<script src="ressurser.js"></script>
</body>
</html>
